# The Complete Lifecycle of an Ethereum Transaction

Every time you send ETH, swap a token, or mint an NFT on Ethereum, you initiate a **transaction**.
But what happens between clicking “Confirm” in your wallet and that action becoming a permanent, irreversible part of the blockchain?

This lesson breaks down that process step-by-step — from creation to finalization.

---

## Core Concept

A **transaction** is a **signed message** from an account owner instructing the network to perform an action.
The goal is to **change the global state** of Ethereum — a complete record of all account balances and contract data.

**Example:**

| Stage | Ciara | Patrick |
|--------|--------|----------|
| Initial State | 1 ETH | 0 ETH |
| Transaction | → sends 1 ETH → | |
| Final State | 0 ETH | 1 ETH |

This state change becomes official only after a multi-step process of **creation**, **validation**, and **consensus**.

---

## Step 1: Creating the Transaction

When you use a wallet like MetaMask, it automatically assembles a **transaction object** containing:

### Key Fields

- **Chain ID:** Identifies the target blockchain (e.g. `1` for Mainnet, `11155111` for Sepolia). Prevents *replay attacks*.
- **Nonce:** Sequential counter for the sender’s transactions. Ensures correct order and uniqueness.
- **Gas Parameters:**
  - **Max Priority Fee Per Gas:** Tip to the validator.
  - **Max Fee Per Gas:** Maximum you’re willing to pay per gas unit (base fee + tip).
  - **Gas Limit:** Cap on computational work to prevent overconsumption of ETH.
- **Recipient Address (to):** The account or smart contract you’re interacting with.
- **Value:** Amount of ETH sent.
- **Data:** Encoded smart contract function and parameters (optional).
- **Access List:** (Advanced) Lists pre-accessed addresses/storage slots to reduce gas costs.

---

## Step 2: Signing the Transaction

To authorize the transaction:

1. The data is serialized into a standard format.
2. It’s cryptographically hashed → produces a **Transaction Hash** (unique identifier).
3. You sign this hash with your **private key**, creating a **digital signature** that proves ownership and approval.

---

## Step 3: Broadcasting the Transaction

The signed transaction is sent to an **Ethereum node** via an **RPC (Remote Procedure Call)** endpoint.
Your wallet transmits it for processing.

---

## Step 4: Entering the Mempool

When a node receives the transaction, it checks:

- Valid digital signature.
- Sufficient ETH to cover value + max gas fees.

If valid:

- It’s added to the **Mempool** (pending transactions).
- The node **broadcasts** it to peers for network-wide propagation.

---

## Step 5: Being Selected for a Block

Every **12 seconds** (one **slot**), a **validator** is chosen to produce the next block.

The validator:

1. Picks transactions from its mempool (highest tips first).
2. Executes them sequentially.
3. Updates its local blockchain state.
4. Bundles and signs them into a **new block**.
5. Broadcasts the proposed block to the network.

---

## Step 6: Attestation and Finalization

Once your transaction is in a proposed block, the network validates it via consensus.

### 1. Attestation
Other validators:
- Re-execute the block’s transactions.
- Verify correctness and signatures.
- Vote (“attest”) in favor if valid.

### 2. Inclusion
If ≥ **two-thirds** of staked ETH in that committee attest,
the block is officially **added to the chain** → your transaction is **confirmed**.

### 3. Finalization
A block becomes **finalized** when attested by ≥ **two-thirds** of all active validators (network-wide).
This happens after **~2 epochs** (~6.4 minutes).
Once finalized, it’s practically irreversible.

---

## Transaction Statuses

| Status | Description |
|---------|--------------|
| **Pending** | In mempool, waiting to be selected by a validator. |
| **Confirmed / Success** | Included in a valid block (~12 seconds). |
| **Finalized** | Irreversible after network consensus (~12.8 minutes). |
| **Reverted / Failed** | Included but execution failed; gas still consumed. |
| **Dropped** | Never included (often due to low fees or replaced nonce). |

---

## Conclusion: Securing the Digital Ledger

Every transaction from an **Externally Owned Account (EOA)** follows this secure, transparent lifecycle.
Each step — from **cryptographic signing** to **validator attestation** — ensures that Ethereum’s shared state remains:

- **Authorized**
- **Valid**
- **Permanent**

---

### Next Lesson
**Smart Contract Accounts** — how they operate and how **Account Abstraction** is transforming Ethereum’s transaction model.
